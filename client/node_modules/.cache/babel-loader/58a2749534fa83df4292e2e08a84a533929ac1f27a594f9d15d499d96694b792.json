{"ast":null,"code":"\n\n// import { use, useState } from \"react\";\n// import { useEffect } from \"react\";\n// import Welcome from './Welcome';\n// import ChooseTopic from './ChooseTopic';\n// import LearningHistory from './LearningHistory';\n\n// function Login() {\n\n//     const [username, setUsername] = useState(\"\");\n//     const [exsist, setExsist] = useState(false);\n//     const [userphone, setUserPhone] = useState(\"\");\n//     const [needToLogin, setNeedToLogin] = useState(false);\n//     const [loggedIn, setLoggedIn] = useState(false);\n//     const [errorMessage, setErrorMessage] = useState(\"\");\n//     const [errorMessagePhone, setErrorMessagePhone] = useState(\"\");\n//     const [userId, setUserId] = useState(\"\");\n\n//     // useEffect(() => {\n//     //     if (userId) {\n//     //         console.log(\"userId was updated: \", userId);\n//     //     }\n//     // }, [userId]);\n\n//     const logUp = async () => {\n//         const user = {\n//             name: username,\n//             phone: userphone\n//         };\n//         console.log(user);\n\n//         try {\n//             const response = await fetch(`http://localhost:5084/api/User/CreateUser`, {\n//                 method: \"POST\",\n//                 headers: {\n//                     \"Content-Type\": \"application/json\"\n//                 },\n//                 body: JSON.stringify(user)\n//             });\n\n//             if (response.ok) {\n//                 const createdUser = await response.json(); // כאן יש את id שהשרת יצר\n//                 console.log(\"user created\", createdUser);\n//                 setUserId(createdUser.id);  // ✅ משתמשים ב-id מהשרת\n//                 console.log(\"userId set to: \", createdUser.id);\n//                 setLoggedIn(true);\n//             } else {\n//                 console.log(\"error creating user\");\n//             }\n//         } catch (err) {\n//             console.error(\"Fetch error:\", err);\n//         }\n//     }\n\n//     const checkIfExsist = async () => {\n//         try {\n//             const response = await fetch(`http://localhost:5084/api/User/byName/${username}`);\n\n//             if (response.status === 404) {\n//                 // setNeedToLogin(true);\n//                 setExsist(false);\n//                 setErrorMessage(\"user name is not exsist\");\n//                 console.log(\"kkk \", errorMessage);\n//                 return;\n//             }\n\n//             if (!response.ok) {\n//                 console.error(\"server error\", response.status);\n//                 setErrorMessage(\"שגיאת שרת, נסה שוב מאוחר יותר\");\n//                 return;\n//             }\n\n//             setExsist(true);\n//             setErrorMessage(\"\"); // מנקים שגיאה אם נמצא\n//             const data = await response.json();\n//             console.log(\"משתמש נמצא:\", data);\n\n//         } catch (error) {\n//             console.error(\"שגיאה ברשת:\", error);\n//             setErrorMessage(\"שגיאת רשת, נסה שוב\");\n//         }\n//     };\n\n//     const checkIfCorrectPhone = async () => {\n//         try {\n//             const response = await fetch(`http://localhost:5084/api/User/byPhone/${userphone}`);\n\n//             if (response.status === 404) {\n//                 setErrorMessagePhone(\"phone is not correct\")\n//                 console.log(\"phone is not correct\");\n//                 return;\n//             }\n\n//             if (!response.ok) {\n//                 setErrorMessage(\"שגיאת שרת, נסה שוב מאוחר יותר\");\n//                 console.error(\"server error\", response.status);\n//                 return;\n//             }\n//             setErrorMessage(\"\"); // מנקים שגיאה אם נמצא\n//             const data = await response.json();\n//             console.log(\"found user\", data);\n//             setLoggedIn(true);\n\n//         } catch (error) {\n//             console.error(\"שגיאה ברשת:\", error);\n//         }\n//     };\n\n//     return (\n//         <>\n//             {!loggedIn ? (!needToLogin ? (<div className=\"Login\">\n//                 <h2>Login Page</h2>\n//                 <input\n//                     type=\"text\"\n//                     value={username}\n//                     onChange={(e) => setUsername(e.target.value)}\n//                     placeholder=\"insert your username\"\n//                 />\n//                 <p style={{ color: \"red\" }}>{errorMessage}</p>\n//                 <button onClick={checkIfExsist}>ok</button>\n//                 <button onClick={() => setNeedToLogin(true)}>log up</button>\n//                 {exsist && <><input\n//                     type=\"text\"\n//                     value={userphone}\n//                     onChange={(e) => setUserPhone(e.target.value)}\n//                     placeholder=\"insert your phone number\"\n//                 />\n//                     <p style={{ color: \"red\" }}>{errorMessagePhone}</p>\n//                     <button onClick={checkIfCorrectPhone}>insert</button></>}\n\n//             </div>) : (\n//                 <>\n//                     <h3>log up</h3>\n//                     <input\n//                         type=\"text\"\n//                         value={username}\n//                         onChange={(e) => setUsername(e.target.value)}\n//                         placeholder=\"insert your username\"\n//                     />\n//                     <input\n//                         type=\"text\"\n//                         value={userphone}\n//                         onChange={(e) => setUserPhone(e.target.value)}\n//                         placeholder=\"insert your phone number\"\n//                     />\n//                     <button onClick={logUp}>log up</button>\n//                 </>\n//             )) : (\n//                 <>\n//                     <Welcome></Welcome>\n//                     <ChooseTopic userId={userId}></ChooseTopic>\n//                     <LearningHistory></LearningHistory>\n//                 </>\n//             )}\n\n//         </>\n\n//     );\n// }\n\n// export default Login;","map":{"version":3,"names":[],"sources":["C:/PRACTICUM/PracticLearningProject/client/src/components/Login.js"],"sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import { use, useState } from \"react\";\r\n// import { useEffect } from \"react\";\r\n// import Welcome from './Welcome';\r\n// import ChooseTopic from './ChooseTopic';\r\n// import LearningHistory from './LearningHistory';\r\n\r\n\r\n// function Login() {\r\n\r\n//     const [username, setUsername] = useState(\"\");\r\n//     const [exsist, setExsist] = useState(false);\r\n//     const [userphone, setUserPhone] = useState(\"\");\r\n//     const [needToLogin, setNeedToLogin] = useState(false);\r\n//     const [loggedIn, setLoggedIn] = useState(false);\r\n//     const [errorMessage, setErrorMessage] = useState(\"\");\r\n//     const [errorMessagePhone, setErrorMessagePhone] = useState(\"\");\r\n//     const [userId, setUserId] = useState(\"\");\r\n\r\n//     // useEffect(() => {\r\n//     //     if (userId) {\r\n//     //         console.log(\"userId was updated: \", userId);\r\n//     //     }\r\n//     // }, [userId]);\r\n\r\n//     const logUp = async () => {\r\n//         const user = {\r\n//             name: username,\r\n//             phone: userphone\r\n//         };\r\n//         console.log(user);\r\n\r\n//         try {\r\n//             const response = await fetch(`http://localhost:5084/api/User/CreateUser`, {\r\n//                 method: \"POST\",\r\n//                 headers: {\r\n//                     \"Content-Type\": \"application/json\"\r\n//                 },\r\n//                 body: JSON.stringify(user)\r\n//             });\r\n\r\n//             if (response.ok) {\r\n//                 const createdUser = await response.json(); // כאן יש את id שהשרת יצר\r\n//                 console.log(\"user created\", createdUser);\r\n//                 setUserId(createdUser.id);  // ✅ משתמשים ב-id מהשרת\r\n//                 console.log(\"userId set to: \", createdUser.id);\r\n//                 setLoggedIn(true);\r\n//             } else {\r\n//                 console.log(\"error creating user\");\r\n//             }\r\n//         } catch (err) {\r\n//             console.error(\"Fetch error:\", err);\r\n//         }\r\n//     }\r\n\r\n\r\n\r\n\r\n//     const checkIfExsist = async () => {\r\n//         try {\r\n//             const response = await fetch(`http://localhost:5084/api/User/byName/${username}`);\r\n\r\n//             if (response.status === 404) {\r\n//                 // setNeedToLogin(true);\r\n//                 setExsist(false);\r\n//                 setErrorMessage(\"user name is not exsist\");\r\n//                 console.log(\"kkk \", errorMessage);\r\n//                 return;\r\n//             }\r\n\r\n//             if (!response.ok) {\r\n//                 console.error(\"server error\", response.status);\r\n//                 setErrorMessage(\"שגיאת שרת, נסה שוב מאוחר יותר\");\r\n//                 return;\r\n//             }\r\n\r\n//             setExsist(true);\r\n//             setErrorMessage(\"\"); // מנקים שגיאה אם נמצא\r\n//             const data = await response.json();\r\n//             console.log(\"משתמש נמצא:\", data);\r\n\r\n//         } catch (error) {\r\n//             console.error(\"שגיאה ברשת:\", error);\r\n//             setErrorMessage(\"שגיאת רשת, נסה שוב\");\r\n//         }\r\n//     };\r\n\r\n//     const checkIfCorrectPhone = async () => {\r\n//         try {\r\n//             const response = await fetch(`http://localhost:5084/api/User/byPhone/${userphone}`);\r\n\r\n//             if (response.status === 404) {\r\n//                 setErrorMessagePhone(\"phone is not correct\")\r\n//                 console.log(\"phone is not correct\");\r\n//                 return;\r\n//             }\r\n\r\n//             if (!response.ok) {\r\n//                 setErrorMessage(\"שגיאת שרת, נסה שוב מאוחר יותר\");\r\n//                 console.error(\"server error\", response.status);\r\n//                 return;\r\n//             }\r\n//             setErrorMessage(\"\"); // מנקים שגיאה אם נמצא\r\n//             const data = await response.json();\r\n//             console.log(\"found user\", data);\r\n//             setLoggedIn(true);\r\n\r\n\r\n//         } catch (error) {\r\n//             console.error(\"שגיאה ברשת:\", error);\r\n//         }\r\n//     };\r\n\r\n\r\n\r\n//     return (\r\n//         <>\r\n//             {!loggedIn ? (!needToLogin ? (<div className=\"Login\">\r\n//                 <h2>Login Page</h2>\r\n//                 <input\r\n//                     type=\"text\"\r\n//                     value={username}\r\n//                     onChange={(e) => setUsername(e.target.value)}\r\n//                     placeholder=\"insert your username\"\r\n//                 />\r\n//                 <p style={{ color: \"red\" }}>{errorMessage}</p>\r\n//                 <button onClick={checkIfExsist}>ok</button>\r\n//                 <button onClick={() => setNeedToLogin(true)}>log up</button>\r\n//                 {exsist && <><input\r\n//                     type=\"text\"\r\n//                     value={userphone}\r\n//                     onChange={(e) => setUserPhone(e.target.value)}\r\n//                     placeholder=\"insert your phone number\"\r\n//                 />\r\n//                     <p style={{ color: \"red\" }}>{errorMessagePhone}</p>\r\n//                     <button onClick={checkIfCorrectPhone}>insert</button></>}\r\n\r\n//             </div>) : (\r\n//                 <>\r\n//                     <h3>log up</h3>\r\n//                     <input\r\n//                         type=\"text\"\r\n//                         value={username}\r\n//                         onChange={(e) => setUsername(e.target.value)}\r\n//                         placeholder=\"insert your username\"\r\n//                     />\r\n//                     <input\r\n//                         type=\"text\"\r\n//                         value={userphone}\r\n//                         onChange={(e) => setUserPhone(e.target.value)}\r\n//                         placeholder=\"insert your phone number\"\r\n//                     />\r\n//                     <button onClick={logUp}>log up</button>\r\n//                 </>\r\n//             )) : (\r\n//                 <>\r\n//                     <Welcome></Welcome>\r\n//                     <ChooseTopic userId={userId}></ChooseTopic>\r\n//                     <LearningHistory></LearningHistory>\r\n//                 </>\r\n//             )}\r\n\r\n\r\n\r\n//         </>\r\n\r\n//     );\r\n// }\r\n\r\n\r\n\r\n// export default Login;"],"mappings":";;AA0BA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;;AAEA;AACA;;AAIA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}